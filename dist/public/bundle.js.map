{"version":3,"sources":["webpack:///bundle.js","webpack:///webpack/bootstrap e24338c5846c00b9c74f","webpack:///./src/index.js","webpack:///./src/texttrackrenderer.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","_texttrackrenderer","_texttrackrenderer2","ttr","console","log","d","document","getElementById","attach","t","querySelector","addTextTrack","Object","defineProperty","value","div","tagName","divElement","track","trackElement","addEventListener","textTrack","this","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","cues","Symbol","iterator","next","done","cue","layoutManager","err","innerHTML","text"],"mappings":"CAAS,SAAUA,GCInB,QAAAC,GAAAC,GAGA,GAAAC,EAAAD,GACA,MAAAC,GAAAD,GAAAE,OAGA,IAAAC,GAAAF,EAAAD,IACAE,WACAE,GAAAJ,EACAK,QAAA,EAUA,OANAP,GAAAE,GAAAM,KAAAH,EAAAD,QAAAC,IAAAD,QAAAH,GAGAI,EAAAE,QAAA,EAGAF,EAAAD,QAvBA,GAAAD,KAqCA,OATAF,GAAAQ,EAAAT,EAGAC,EAAAS,EAAAP,EAGAF,EAAAU,EAAA,gBAGAV,EAAA,KDMM,SAASI,EAAQD,EAASH,GAE/BI,EAAOD,QAAUH,EAAoB,IAKhC,SAASI,EAAQD,EAASH,GAE/B,YAMA,SAASW,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,UAASF,GE3DxF,GAAAG,GAAAf,EAAA,GFyDKgB,EAAsBL,EAAuBI,GEtD5CE,EAAM,GAAAD,aACZE,SAAQC,IAAIF,EAGZ,IAAIG,GAAIC,SAASC,eAAe,oBAChCL,GAAIM,OAAOH,EAGX,IAAII,GAAIH,SAASI,cAAc,QAC/BR,GAAIS,aAAaF,IFqHX,SAASpB,EAAQD,GAEtB,YAEAwB,QAAOC,eAAezB,EAAS,cAC7B0B,OAAO,IAGT1B,aGzIc,WAIb,QAASoB,GAAOO,GACVA,EAAIC,QAASC,EAAaF,EACzBZ,QAAQC,IAAOW,EAAf,iCAGP,QAASJ,GAAaO,GACF,MAAdD,EAAoBd,QAAQC,IAAR,8CAElBc,EAAMF,SACRG,EAAeD,EACfC,EAAaC,iBAAiB,OAAQ,WACpC,GAAIC,GAAYC,KAAKJ,MAD0BK,GAAA,EAAAC,GAAA,EAAAC,EAAAC,MAAA,KAE/C,OAAAC,GAAAC,EAAgBP,EAAUQ,KAA1BC,OAAAC,cAAAR,GAAAI,EAAAC,EAAAI,QAAAC,MAAAV,GAAA,EAAgC,IAAvBW,GAAuBP,EAAAb,KAC9BqB,GAAcD,IAH+B,MAAAE,GAAAZ,GAAA,EAAAC,EAAAW,EAAA,aAAAb,GAAAK,2BAAA,WAAAJ,EAAA,KAAAC,QAO9CtB,QAAQC,IAAOc,EAAf,mCAIT,QAASiB,GAAcD,GACrBjB,EAAWoB,UAAYpB,EAAWoB,WAAX,SAAgCH,EAAII,KAApC,WACvBnC,QAAQC,IAAI8B,GA1Bd,GAAIjB,UACAE,QA4BJ,QACEX,SACAG","file":"bundle.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/dist/public/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__(1);\n\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _texttrackrenderer = __webpack_require__(2);\n\t\n\tvar _texttrackrenderer2 = _interopRequireDefault(_texttrackrenderer);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t// Instantiates TextTrackRenderer\n\tvar ttr = new _texttrackrenderer2.default();\n\tconsole.log(ttr);\n\t\n\t// User chooses div to pass to attach handler\n\tvar d = document.getElementById('TextTrackRenderer');\n\tttr.attach(d);\n\t\n\t// Adds TextTrack\n\tvar t = document.querySelector('track');\n\tttr.addTextTrack(t);\n\t\n\t// Below for notes only\n\t/*\n\t// With PDK Dependency\n\t$pdk.controller.addEventListener('OnTextTracksAvailable', function(e){\n\t  console.log(':::::::::::OnTextTracksAvailable:::::::::::');\n\t  var num =e.data.entries.length;\n\t  console.log(e);\n\t});\n\t*/\n\t\n\t/*\n\t// Proof of Concept Code\n\tlet v = document.querySelector('video');\n\n\tconst initTextTracks = () => {\n\t  let track = document.createElement('track');\n\n\t  track.src = '../video/developerStories-subtitles-en.vtt';\n\t  track.label = 'English subtitles';\n\t  track.kind = 'subtitles';\n\t  track.srclang = 'en';\n\t  track.mode = 'showing';\n\t  track.setAttribute('default', '');\n\t  v.appendChild(track);\n\t  v.setAttribute('crossOrigin', 'anonymous');\n\t};\n\n\t// IE11, Firefox, Chrome, Safari, iOS10, Android\n\tdocument.addEventListener('DOMContentLoaded', function() {\n\t  initTextTracks();\n\n\t  let textTracks = v.textTracks;\n\t  let textTrackContainer = document.createElement('div');\n\t  textTrackContainer.setAttribute('id', 'tpTextTrackRender');\n\t  document.getElementsByTagName('div')[0].appendChild(textTrackContainer);\n\n\t  let cueRenderer = () => {\n\t    const cue = v.textTracks[0].activeCues[0];\n\t    if (cue !== undefined) {\n\t      console.log(cue);\n\t      console.log(cue.text);\n\t      textTrackContainer.innerHTML = '<p>' + cue.text + '</p>';\n\t    }\n\t  };\n\n\t  if (textTracks.length > 0) {\n\t    textTracks[0].oncuechange = () => { cueRenderer(); };\n\t  } else {\n\t    // some browsers don't support track.oncuechange\n\t    v.addEventListener('timeupdate', () => { cueRenderer(); });\n\t  }\n\t});\n\t*/\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\texports.default = function () {\n\t  var divElement = void 0,\n\t      trackElement = void 0;\n\t\n\t  function attach(div) {\n\t    if (div.tagName) divElement = div;else console.log(div + ' is not an HTML div container');\n\t  }\n\t\n\t  function addTextTrack(track) {\n\t    if (divElement == null) console.log('attach div container using .attach() first');else {\n\t      if (track.tagName) {\n\t        trackElement = track;\n\t        trackElement.addEventListener('load', function () {\n\t          var textTrack = this.track;\n\t          var _iteratorNormalCompletion = true;\n\t          var _didIteratorError = false;\n\t          var _iteratorError = undefined;\n\t\n\t          try {\n\t            for (var _iterator = textTrack.cues[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t              var cue = _step.value;\n\t\n\t              layoutManager(cue);\n\t            }\n\t          } catch (err) {\n\t            _didIteratorError = true;\n\t            _iteratorError = err;\n\t          } finally {\n\t            try {\n\t              if (!_iteratorNormalCompletion && _iterator.return) {\n\t                _iterator.return();\n\t              }\n\t            } finally {\n\t              if (_didIteratorError) {\n\t                throw _iteratorError;\n\t              }\n\t            }\n\t          }\n\t        });\n\t      } else console.log(track + ' is not an HTML track container');\n\t    }\n\t  }\n\t\n\t  function layoutManager(cue) {\n\t    divElement.innerHTML = divElement.innerHTML + ('<span>' + cue.text + '</span>');\n\t    console.log(cue);\n\t  }\n\t\n\t  return {\n\t    attach: attach,\n\t    addTextTrack: addTextTrack\n\t  };\n\t};\n\n/***/ }\n/******/ ]);\n\n\n/** WEBPACK FOOTER **\n ** bundle.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/public/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap e24338c5846c00b9c74f\n **/","import TextTrackRenderer from './texttrackrenderer'\n\n// Instantiates TextTrackRenderer\nconst ttr = new TextTrackRenderer()\nconsole.log(ttr)\n\n// User chooses div to pass to attach handler\nlet d = document.getElementById('TextTrackRenderer')\nttr.attach(d)\n\n// Adds TextTrack\nlet t = document.querySelector('track')\nttr.addTextTrack(t)\n\n// Below for notes only\n/*\n// With PDK Dependency\n$pdk.controller.addEventListener('OnTextTracksAvailable', function(e){\n  console.log(':::::::::::OnTextTracksAvailable:::::::::::');\n  var num =e.data.entries.length;\n  console.log(e);\n});\n*/\n\n/*\n// Proof of Concept Code\nlet v = document.querySelector('video');\n\nconst initTextTracks = () => {\n  let track = document.createElement('track');\n\n  track.src = '../video/developerStories-subtitles-en.vtt';\n  track.label = 'English subtitles';\n  track.kind = 'subtitles';\n  track.srclang = 'en';\n  track.mode = 'showing';\n  track.setAttribute('default', '');\n  v.appendChild(track);\n  v.setAttribute('crossOrigin', 'anonymous');\n};\n\n// IE11, Firefox, Chrome, Safari, iOS10, Android\ndocument.addEventListener('DOMContentLoaded', function() {\n  initTextTracks();\n\n  let textTracks = v.textTracks;\n  let textTrackContainer = document.createElement('div');\n  textTrackContainer.setAttribute('id', 'tpTextTrackRender');\n  document.getElementsByTagName('div')[0].appendChild(textTrackContainer);\n\n  let cueRenderer = () => {\n    const cue = v.textTracks[0].activeCues[0];\n    if (cue !== undefined) {\n      console.log(cue);\n      console.log(cue.text);\n      textTrackContainer.innerHTML = '<p>' + cue.text + '</p>';\n    }\n  };\n\n  if (textTracks.length > 0) {\n    textTracks[0].oncuechange = () => { cueRenderer(); };\n  } else {\n    // some browsers don't support track.oncuechange\n    v.addEventListener('timeupdate', () => { cueRenderer(); });\n  }\n});\n*/\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.js\n **/","export default function() {\n  let divElement,\n      trackElement\n\n  function attach(div) {\n    if (div.tagName) divElement = div\n    else console.log(`${div} is not an HTML div container`)\n  }\n\n  function addTextTrack(track) {\n    if (divElement == null) console.log(`attach div container using .attach() first`)\n    else {\n      if (track.tagName) {\n        trackElement = track\n        trackElement.addEventListener('load', function() {\n          let textTrack = this.track\n          for (let cue of textTrack.cues) {\n            layoutManager(cue)\n          }\n        })\n      }\n      else console.log(`${track} is not an HTML track container`)\n    }\n  }\n\n  function layoutManager(cue) {\n    divElement.innerHTML = divElement.innerHTML + `<span>${cue.text}</span>`\n    console.log(cue)\n  }\n\n  return {\n    attach,\n    addTextTrack\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/texttrackrenderer.js\n **/"],"sourceRoot":""}